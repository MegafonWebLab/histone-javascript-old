<!DOCTYPE HTML>
<html class="loading">
	<head>
		<title>Histone template engine playground</title>
		<link rel="stylesheet" href="style/stylesheet.css">
		<link rel="stylesheet" href="script/codeMirror/codemirror.css">
		<script type="text/javascript" src="script/beautify.js"></script>
		<script type="text/javascript" src="script/jquery-1.8.1.min.js"></script>
		<script type="text/javascript" src="script/codeMirror/codemirror.js"></script>
		<script type="text/javascript" src="script/codeMirror/histone.js"></script>
		<script type="text/javascript" src="script/require.js" data-main="script/main.js"></script>
		<script type="text/javascript">
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-34052996-2']);
			_gaq.push(['_trackPageview']);
			(function() {
				var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
				ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();
		</script>

<script type="text/histone" data-name="{{for}} simple example">
{{* simple loop example *}}
<ul>
	{{for item in [1, 2, 3, 4, 5, 6]}}
		<li>{{item}}</li>
	{{/for}}
</ul>
</script>

<script type="text/histone" data-name="{{for}} reading key and value">
{{* reading key and value in the loop *}}
<ul>
	{{for key:value in [one: 1, two: 2, three: 3, four: 4, five: 5, six: 6]}}
		<li>{{key}} = {{value}}</li>
	{{/for}}
</ul>
</script>

<script type="text/histone" data-name="{{for}} reading iteration index">
{{* reading iteration index in the loop *}}
<div style="border: 1px solid red;">
	{{for item in [1, 2, 3, 4, 5, 6]}}
		{{if self.index mod 2}}
			<div style="padding: 4px; border: 2px solid blue; margin: 1px;">
				{{item}}
			</div>
		{{else}}
			<div style="padding: 4px; border: 2px solid green; margin: 1px;">
				{{item}}
			</div>
		{{/if}}
	{{/for}}
</div>
</script>

<script type="text/histone" data-name="{{var}} extended form definition">
{{* variable definition (extended form) *}}
{{var myHTML}}
	<span style="border: 1px solid red;">
		<strong><i>Hello world!</i></strong>
	</span>
{{/var}}

<div>myHTML = {{myHTML}}</div>
</script>

<script type="text/histone" data-name="{{macro}} fixed arguments list">
{{* macro with fixed arguments list *}}
{{macro makeList(a1, a2, a3)}}
	<div>a1 = {{a1}}</div>
	<div>a2 = {{a2}}</div>
	<div>a3 = {{a3}}</div>
{{/macro}}

{{* call our macro *}}
{{makeList('hello', 'world', 3.14)}}
</script>

<script type="text/histone" data-name="{{macro}} variable arguments list">
{{* macro with variable arguments list *}}
{{macro makeList()}}
	<ul>
		{{for arg in self.arguments}}
			<li>{{arg}}</li>
		{{/for}}
	</ul>
{{/macro}}

{{* call our macro *}}
{{makeList('Apple', 'Google', 'Microsoft', 'Facebook')}}
</script>

<script type="text/histone" data-name="{{call}} for calling macros">
{{* macro with variable arguments list *}}
{{macro makeBorderAround(html)}}
	<div style="border: 4px solid gray;">
		{{html}}
	</div>
{{/macro}}

{{* call our macro*}}
{{makeBorderAround('<ul><li>this</li><li>is not</li><li>very convenient</li>')}}

<br />

{{* call our macro using {{call}} statement *}}
{{call makeBorderAround}}
	<ul>
		<li>this</li>
		<li>is way</li>
		<li>better</li>
	</ul>
{{/call}}
</script>

<script type="text/histone" data-name="global functions: dayOfWeek">
{{* define week day names *}}
{{var days = [
	'Monday',
	'Tuesday',
	'Wednesday',
	'Thursday',
	'Friday',
	'Saturday',
	'Sunday'
]}}

{{* 11 July 2012: Wednesday *}}
<div>11.07.2012 is {{days[dayOfWeek(2012, 7, 11) - 1]}}</div>

{{* 22 November 1963: Friday *}}
<div>22.11.1963 is {{days[dayOfWeek(1963, 11, 22) - 1]}}</div>

{{* 25 July 1985: Thursday *}}
<div>25.07.1985 is {{days[dayOfWeek(1985, 7, 25) - 1]}}</div>
</script>

<script type="text/histone" data-name="global functions: daysInMonth">
{{* define month names *}}
{{var months = [
	'January', 'February', 'March',
	'April', 'May', 'June', 'July', 'August',
	'September', 'October', 'November', 'December'
]}}

{{* result: 31 *}}
<div>There are {{daysInMonth(2012, 12)}} days in {{months[11]}} 2012</div>

{{* result: 29 *}}
<div>There are {{daysInMonth(2012, 2)}} days in {{months[1]}} 2012</div>
</script>

<script type="text/histone" data-name="global functions: min">
{{* result: 10 *}}
{{min(10, 20, 30)}}
</script>

<script type="text/histone" data-name="global functions: max">
{{* result: 30 *}}
{{max(10, 20, 30)}}
</script>

<script type="text/histone" data-name="global functions: range">
<div>
	{{* creating a array with 30 elements in it *}}
	{{for item in range(1, 30)}}
		<div style="{{[
			'float: left',
			'background-color: gray',
			'width: 40px',
			'height: 40px',
			'margin-right: 5px',
			'margin-bottom: 5px'
		].join(';')}}">
			{{item}}
		</div>
	{{/for}}
</div>
</script>

<script type="text/histone" data-name="global functions: uniqueId">
{{* generate 10 unique identifiers *}}
{{for index in range(1, 30)}}
	<div>{{index}}. uniquId is {{uniqueId()}}</div>
{{/for}}
</script>

	</head>
	<body>
		<div class="preloader-layer"></div>
		<div class="preloader-image">loading</div>
		<ul class="toolbar">
			<li class="histone-logo">
			<li class="histone-label">Histone
			<li class="toolbar-divider">
			<li class="toolbar-button">Execute
			<li class="toolbar-divider">
			<li class="toolbar-right">
				<span class="change-result-format">
					show result as
				</span>
				<select class="result-format">
					<option value="html">HTML</option>
					<option value="text">Text</option>
					<option value="ast">AST</option>
				</select>
			<li class="toolbar-divider toolbar-right">
		</ul>
		<div class="sidebar"></div>
		<div class="workspace-wrapper">
			<div class="workspace">
				<div class="left-column">
					<textarea class="template"></textarea>
				</div>
				<div class="right-column result-html">
					<div class="html-area"></div>
					<textarea readonly="yes" class="ast-area"></textarea>
					<textarea readonly="yes" class="text-area"></textarea>
				</div>
			</div>
			<div class="console"></div>
		</div>
	</body>
</html>