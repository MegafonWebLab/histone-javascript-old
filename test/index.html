<!DOCTYPE HTML>
<html>
	<head>
		<title>Template Parser</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<link rel="stylesheet" type="text/css" href="style/stylesheet.css" />
		<script type="text/javascript" src="script/require.js"></script>
		<script type="text/javascript">
			window.onload = function() {
				var textarea = document.getElementById('textarea');
				require.config({
					'urlArgs': Math.random(),
					packages: [{
						'name': 'org.megalabs.Sponde',
						'main': 'Sponde',
						'location': '../src'
					}]
				})(['lib.jQuery', 'org.megalabs.Sponde'], function($, Sponde) {

					$(document).on('keypress keydown keyup change', '#input', function() {
						var input = $(this).val();
						$('#output').val(
							JSON.stringify(Sponde(input).tree)
						);
					});

				});
			};
		</script>
	</head>
	<body>
		<div><textarea id="input" style="width: 100%; height: 360px;"></textarea></div>
		<div>
			<textarea id="output" style="width: 100%; height: 360px;"></textarea>
		</div>
	</body>
</html>